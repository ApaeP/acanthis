var closeButton = document.querySelector('#newAntiqueModal');
// closeButton.click();

function refreshForm(innerHTML) {
  const newAntiqueForm = document.querySelector('.new-antique-modal-body');
  newAntiqueForm.innerHTML = innerHTML;
}

function addAntique(antiqueHTML) {
  const antiques = document.querySelector(".antique-grid");
  antiques.insertAdjacentHTML('afterbegin', antiqueHTML);
}

<% if @antique.errors.any? %>
  refreshForm('<%= j render "antiques/new", antique: @antique, category: params[:category] %>');
  document.querySelectorAll('.submit-new-element').forEach((btn) => {
    btn.addEventListener('click', (event) => {
      document.querySelector('#loading-new-elem').style.display = 'block'
    });
  });
<% else %>
  closeButton.click();
  // addAntique('<%= j render "antiques/card", antique: @antique %>');
  refreshForm('<%= j render "antiques/new", antique: @antique %>');
  document.location.reload(true)
  // window.location.reload(true)
<% end %>
